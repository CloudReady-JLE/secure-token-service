server:
  port: 8888

security:
  ignored: /**

liquibase:
  enabled: true
  change-log: classpath:/db/migration/changelog.yml
  default-schema: public

flyway:
  enabled: false
  locations:
  - db/migration/h2

spring:
  datasource:
    url: jdbc:h2:mem:AZ;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    username: db_user
    password: db_user@123
  jpa:
    hibernate:
      show-sql: false
    properties:
      hibernate:
        default_schema: sts

sts:
  resourceServers:
  - audience: "sts"
    jwksUrl: "http://localhost:8888/pop"
  - audience: "sts-service-component-example"
    jwksUrl: "http://localhost:8887/pop"
  - audience: "sts-service-component"
    jwksUrl: "http://sts-service-component:8887/service-component/pop"
  persistence:
    lockExpiry: 30000
  keymanagement:
    rotation:
      checkInterval: 60000
      encKeyPairs:
        minKeys: 5
        enabled: true
      signKeyPairs:
        minKeys: 5
        enabled: true
      secretKeys:
        minKeys: 5
        enabled: true
    persistence:
      containerName: adsts-container
      password: ahDa5cahda1ooxahh8aikaeChiePaeKa
    keystore:
      password: LuYie2eebebahNgoopiehaiV9wis7anu
      type: UBER
      name: sts-example-keystore
      alias_prefix: sts-example-
      keys:
        encKeyPairs:
          initialCount: 5
          algo: RSA
          sigAlgo: SHA256withRSA
          size: 2048
          name: Adorsys Security Token Service
          validityInterval: 3600000
          legacyInterval: 86400000
        signKeyPairs:
          initialCount: 5
          algo: RSA
          sigAlgo: SHA256withRSA
          size: 2048
          name: Adorsys Security Token Service
          validityInterval: 3600000
          legacyInterval: 86400000
        secretKeys:
          initialCount: 5
          algo: AES
          size: 256
          validityInterval: 3600000
          legacyInterval: 86400000
